import{r,a as K,c as x,w as E,o as M,b as O,d as l,e as n,f as t,t as c,g as h,v as k,n as z,h as b,F as w,i as T,j as C,k as F,l as L,m as J,p as q,q as A}from"./index-a5198f2f.js";const H={class:"container shadow rounded all"},G={class:"d-flex align-items-center justify-content-between my-3 header"},P=t("h2",{class:"title"},"H E L L O ! K U K U",-1),Q={class:"subtitle"},R=t("p",null,"Today I need to do something ʕ̯•͡ˑ͓•̯᷅ʔ",-1),W={class:"input-group my-5 enter_text"},X={class:"process"},Y={class:"fw-bolder font-monospace text-center fs-5"},Z={class:"progress",role:"progressbar","aria-label":"Example with label","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},ee={key:0,class:"d-flex justify-content-center my-5"},te=t("h3",{class:"fs-6 ms-2"},"寫下你的目標，然後吃掉一個冰塊作為獎勵。",-1),oe={key:1,class:"card my-5 todo_list"},se={class:"d-flex text-center p-0 tab"},le=["onClick"],ae={key:0,class:"badge rounded-pill ms-5 badge_bg"},ne={key:1,class:"badge rounded-pill ms-5 badge_bg"},de={key:2,class:"badge rounded-pill ms-5 badge_bg"},ce={class:"p-3 list_content"},ie={class:"p-0 list"},re={class:"row d-flex align-items-center justify-content-between"},ue={class:"col-md-10 checkbox"},pe=["id","onUpdate:modelValue"],_e=["id","onUpdate:modelValue","onKeyup"],he=["onClick"],ve={class:"col-md-2 d-flex align-items-center justify-content-end"},ge=t("hr",null,null,-1),fe={class:"d-flex align-items-center justify-content-between list_footer"},me={class:""},ke={__name:"TodoList",setup(ye){const v=new Date,g=r(""),u=r(""),o=r([]),s=K({all:[],pending:[],completed:[]}),f=r("1"),m=r([{id:1,text:"全部",completed:!1},{id:2,text:"待完成",completed:!1},{id:3,text:"已完成",completed:!1}]),S=r({}),I=r(""),V=x(()=>{switch(f.value){case 1:return s.all;case 2:return s.pending;case 3:return s.completed;default:return[]}}),y=x(()=>o.value.length<=0?0:Math.floor(s.completed.length/o.value.length*100)+"%");E(s,()=>{_()},{deep:!0});function j(){g.value=`${v.toLocaleDateString()} ${v.toLocaleString(navigator.language,{weekday:"long"})}`}function N(a){switch(m.value.forEach(d=>{d.completed=!1}),a.completed=!0,f.value=a.id,a.id){case 1:s.all=o.value;break;case 2:s.pending=o.value.filter(d=>!d.completed);break;case 3:s.completed=o.value.filter(d=>d.completed);break}console.log("todoList",s)}function $(){if(u.value===""){alert("請輸入文字");return}o.value.push({id:`NO${new Date().getTime()}`,text:u.value,completed:!1,editing:!1}),u.value="",_()}function U(a){console.log("item",a),I.value=a.text,S.value=a,a.editing=!1}function B(a){const d=o.value.findIndex(p=>p.id===a);o.value.splice(d,1),_()}function D(){if(!o.value.length)return alert("目前無任務可以刪除");confirm("你確定要刪除全部任務嗎? 刪除了將找不回資料~")&&(localStorage.removeItem("todoList"),o.value=[],alert("已完成刪除動作"))}function _(){localStorage.setItem("todoList",JSON.stringify(o.value))}return M(()=>{j(),localStorage.getItem("todoList")!=null&&(o.value=JSON.parse(localStorage.getItem("todoList")))}),(a,d)=>{const p=O("font-awesome-icon");return l(),n("div",H,[t("header",G,[P,t("h1",Q,[t("p",null,c(g.value),1),R])]),t("div",W,[h(t("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>u.value=e),type:"text",class:"form-control border border-0 border-bottom p-3 fs-5",id:"inputText",placeholder:"請輸入待辦事項"},null,512),[[k,u.value,void 0,{trim:!0}]]),t("a",{href:"javascript:void(0);",class:"btn btn-outline-secondary border border-0 btn_add",type:"button",id:"addBTN",onClick:$},"+")]),t("section",X,[t("h3",Y," 任務進度 "+c(s.completed.length)+"/"+c(o.value.length),1),t("div",Z,[t("div",{class:"progress-bar bar_box",style:z({width:y.value})},c(y.value),5)])]),o.value.length?(l(),n("div",oe,[t("ul",se,[(l(!0),n(w,null,T(m.value,e=>(l(),n("li",{key:e.id,class:C(["p-3 w-100",{active:e.completed===!0}]),onClick:i=>N(e)},[F(c(e.text)+" ",1),e.id===1?(l(),n("span",ae,c(s.all.length),1)):e.id===2?(l(),n("span",ne,c(s.pending.length),1)):e.id===3?(l(),n("span",de,c(s.completed.length),1)):L("",!0)],10,le))),128))]),t("div",ce,[t("ul",ie,[(l(!0),n(w,null,T(V.value,e=>(l(),n("li",{key:e.id,class:"p-1 w-100"},[t("div",re,[t("div",ue,[h(t("input",{type:"checkbox",class:"me-2",id:e.id,"onUpdate:modelValue":i=>e.completed=i},null,8,pe),[[J,e.completed]]),e.editing?h((l(),n("input",{key:0,type:"text",class:"edit_input",id:e.id,"onUpdate:modelValue":i=>e.text=i,onKeyup:q(i=>U(e),["enter"])},null,40,_e)),[[k,e.text]]):(l(),n("span",{key:1,class:C([{completed:e.completed},"ms-5 list_text"]),onClick:i=>e.completed=!e.completed},c(e.text),11,he))]),t("div",ve,[e.editing?L("",!0):(l(),A(p,{key:0,icon:"fa-solid fa-pen",class:"p-2 edit",onClick:i=>e.editing=!e.editing},null,8,["onClick"])),b(p,{icon:"fa-solid fa-trash",class:"ms-2 p-2 delete",onClick:i=>B(e.id)},null,8,["onClick"])])])]))),128))]),ge,t("div",fe,[t("p",me,c(s.pending.length)+" 個待完成項目",1),t("a",{href:"javascript:void(0);",onClick:D},"清除已完成項目")])])])):(l(),n("div",ee,[b(p,{icon:"fa-solid fa-gears",class:"fa-xl"}),te]))])}}};export{ke as default};
